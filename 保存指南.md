# 京西智谷茶语堂小程序 - 代码保存指南

## 📂 项目文件结构

```
chayutang-project/
├── app.js                    # 小程序入口文件
├── app.json                  # 小程序配置文件
├── app.wxss                  # 全局样式文件
├── project.config.json       # 项目配置文件
├── sitemap.json             # 站点地图配置
├── README.md                # 项目说明文档
├── cloudfunctions/          # 云函数目录
│   └── submitOrder/         # 订单提交云函数
│       ├── index.js
│       └── package.json
├── images/                  # 图片资源目录
│   └── README.md           # 图片说明文档
├── pages/                   # 页面目录
│   ├── home/               # 首页（企业宣传）
│   │   ├── home.js
│   │   ├── home.json
│   │   ├── home.wxml
│   │   └── home.wxss
│   ├── lottery/            # 抽奖页面
│   │   ├── lottery.js
│   │   ├── lottery.json
│   │   ├── lottery.wxml
│   │   └── lottery.wxss
│   └── order/              # 点单页面
│       ├── order.js
│       ├── order.json
│       ├── order.wxml
│       └── order.wxss
└── utils/                   # 工具函数目录
    └── util.js
```

## 💾 保存方法

### 方法一：手动创建文件（推荐）

1. **创建项目文件夹**
   ```bash
   mkdir chayutang-miniprogram
   cd chayutang-miniprogram
   ```

2. **创建目录结构**
   ```bash
   mkdir -p cloudfunctions/submitOrder
   mkdir -p images
   mkdir -p pages/home
   mkdir -p pages/lottery
   mkdir -p pages/order
   mkdir -p utils
   ```

3. **复制代码内容**
   - 从对话记录中复制每个文件的完整代码
   - 保存到对应的文件中

### 方法二：使用脚本创建（高级用户）

创建一个 `create_project.sh` 脚本：

```bash
#!/bin/bash

# 创建项目目录
mkdir -p chayutang-miniprogram
cd chayutang-miniprogram

# 创建目录结构
mkdir -p cloudfunctions/submitOrder
mkdir -p images
mkdir -p pages/{home,lottery,order}
mkdir -p utils

# 创建基础文件
touch app.js app.json app.wxss project.config.json sitemap.json README.md
touch cloudfunctions/submitOrder/{index.js,package.json}
touch images/README.md
touch pages/home/{home.js,home.json,home.wxml,home.wxss}
touch pages/lottery/{lottery.js,lottery.json,lottery.wxml,lottery.wxss}
touch pages/order/{order.js,order.json,order.wxml,order.wxss}
touch utils/util.js

echo "项目结构创建完成！请复制代码内容到相应文件中。"
```

## 📋 必需的文件清单

### 根目录文件
- [ ] `app.js` - 小程序入口文件
- [ ] `app.json` - 小程序配置文件
- [ ] `app.wxss` - 全局样式文件
- [ ] `project.config.json` - 项目配置文件
- [ ] `sitemap.json` - 站点地图配置
- [ ] `README.md` - 项目说明文档

### 云函数文件
- [ ] `cloudfunctions/submitOrder/index.js` - 订单提交云函数
- [ ] `cloudfunctions/submitOrder/package.json` - 云函数依赖配置

### 页面文件
**首页（企业宣传）：**
- [ ] `pages/home/home.js`
- [ ] `pages/home/home.json`
- [ ] `pages/home/home.wxml`
- [ ] `pages/home/home.wxss`

**点单页面：**
- [ ] `pages/order/order.js`
- [ ] `pages/order/order.json`
- [ ] `pages/order/order.wxml`
- [ ] `pages/order/order.wxss`

**抽奖页面：**
- [ ] `pages/lottery/lottery.js`
- [ ] `pages/lottery/lottery.json`
- [ ] `pages/lottery/lottery.wxml`
- [ ] `pages/lottery/lottery.wxss`

### 工具文件
- [ ] `utils/util.js` - 通用工具函数

### 说明文档
- [ ] `images/README.md` - 图片资源说明

## 🚀 部署步骤

1. **准备环境**
   - 下载并安装[微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
   - 注册微信小程序账号，获取AppID

2. **导入项目**
   - 打开微信开发者工具
   - 选择"导入项目"
   - 选择你创建的项目文件夹
   - 填入AppID

3. **配置修改**
   - 修改 `project.config.json` 中的 `appid` 为你的真实AppID
   - 修改 `app.js` 中的云开发环境ID

4. **云开发设置**
   - 开通微信云开发服务
   - 创建云开发环境
   - 上传并部署云函数

5. **添加图片资源**
   - 根据 `images/README.md` 的说明添加所需图标
   - 可以暂时使用占位图标进行测试

6. **测试和发布**
   - 在开发者工具中预览测试
   - 确认功能正常后提交审核

## ⚠️ 注意事项

1. **文件编码**：确保所有文件都使用 UTF-8 编码保存
2. **换行符**：建议使用 LF (Unix) 换行符
3. **文件权限**：确保文件具有正确的读写权限
4. **完整性检查**：保存后请检查所有文件是否完整

## 🔧 常见问题

**Q: 代码复制后出现格式错误怎么办？**
A: 检查引号、括号是否配对，确保没有多余的字符

**Q: 小程序无法正常运行怎么办？**
A: 检查 `app.json` 配置是否正确，确保所有页面路径存在

**Q: 云函数上传失败怎么办？**
A: 确保云开发环境已开通，检查网络连接是否正常

**Q: 图片资源找不到怎么办？**
A: 暂时注释掉图片引用，或使用占位图片进行测试

## 📞 技术支持

如果在保存或部署过程中遇到问题，可以：
1. 仔细检查文件内容是否完整
2. 查看微信开发者工具的错误提示
3. 参考微信小程序官方文档
4. 确保所有依赖都已正确安装

---

🍵 **祝您使用愉快！茶语堂小程序期待您的成功部署！**