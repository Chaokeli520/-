<!--pages/home/home.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨è½®æ’­å›¾ -->
  <view class="banner-section">
    <swiper class="banner-swiper" 
            current="{{currentBanner}}" 
            bindchange="onBannerChange"
            indicator-dots="true"
            indicator-color="rgba(255,255,255,0.5)"
            indicator-active-color="#D2691E"
            autoplay="true"
            interval="3000"
            circular="true">
      <swiper-item wx:for="{{bannerImages}}" wx:key="index">
        <image src="{{item}}" class="banner-image" mode="aspectFill"></image>
      </swiper-item>
    </swiper>
  </view>

  <!-- å…¬å¸ä»‹ç»å¡ç‰‡ -->
  <view class="company-card">
    <view class="card-header">
      <view class="company-name">{{companyInfo.name}}</view>
      <view class="company-location">ğŸ“ {{companyInfo.location}}</view>
    </view>
    
    <view class="company-description">
      {{companyInfo.description}}
    </view>
    
    <view class="action-buttons">
      <button class="btn-detail" bindtap="showCompanyDetail">äº†è§£è¯¦æƒ…</button>
      <button class="btn-contact" bindtap="contactUs">è”ç³»æˆ‘ä»¬</button>
    </view>
  </view>

  <!-- ç‰¹è‰²åŠŸèƒ½å±•ç¤º -->
  <view class="features-section">
    <view class="section-title">ä¼ä¸šç‰¹è‰²</view>
    <view class="features-grid">
      <view class="feature-item" wx:for="{{companyInfo.features}}" wx:key="title">
        <view class="feature-icon">{{item.icon}}</view>
        <view class="feature-title">{{item.title}}</view>
        <view class="feature-desc">{{item.desc}}</view>
      </view>
    </view>
  </view>

  <!-- èŒ¶è¯­å ‚æ¨å¹¿å¡ç‰‡ -->
  <view class="tea-promotion-card">
    <view class="tea-header">
      <view class="tea-icon">ğŸµ</view>
      <view class="tea-title">{{teaInfo.name}}</view>
    </view>
    <view class="tea-description">{{teaInfo.description}}</view>
    <view class="tea-highlight">{{teaInfo.highlight}}</view>
    
    <view class="tea-actions">
      <button class="btn-order" bindtap="goToOrder">ç«‹å³ç‚¹å•</button>
      <button class="btn-lottery" bindtap="goToLottery">å‚ä¸æŠ½å¥–</button>
    </view>
  </view>
</view>

<!-- å…¬å¸è¯¦æƒ…æ¨¡æ€æ¡† -->
<view class="modal-overlay" wx:if="{{showCompanyModal}}" bindtap="closeModal">
  <view class="modal-content" catchtap="">
    <view class="modal-header">
      <view class="modal-title">ä¼ä¸šè¯¦æƒ…</view>
      <view class="modal-close" bindtap="closeModal">âœ•</view>
    </view>
    <scroll-view scroll-y class="modal-body">
      <view class="detail-section">
        <view class="detail-title">å…¬å¸ç®€ä»‹</view>
        <view class="detail-content">{{companyInfo.description}}</view>
      </view>
      <view class="detail-section">
        <view class="detail-title">æ ¸å¿ƒä¼˜åŠ¿</view>
        <view class="advantages-list">
          <view class="advantage-item" wx:for="{{companyInfo.features}}" wx:key="title">
            <view class="advantage-icon">{{item.icon}}</view>
            <view class="advantage-text">
              <view class="advantage-title">{{item.title}}</view>
              <view class="advantage-desc">{{item.desc}}</view>
            </view>
          </view>
        </view>
      </view>
    </scroll-view>
  </view>
</view>

<!-- è”ç³»æˆ‘ä»¬æ¨¡æ€æ¡† -->
<view class="modal-overlay" wx:if="{{showContactModal}}" bindtap="closeModal">
  <view class="modal-content" catchtap="">
    <view class="modal-header">
      <view class="modal-title">è”ç³»æˆ‘ä»¬</view>
      <view class="modal-close" bindtap="closeModal">âœ•</view>
    </view>
    <view class="modal-body">
      <view class="contact-item" bindtap="makeCall">
        <view class="contact-icon">ğŸ“</view>
        <view class="contact-text">
          <view class="contact-label">å®¢æœç”µè¯</view>
          <view class="contact-value">{{companyInfo.contact.phone}}</view>
        </view>
        <view class="contact-action">ç‚¹å‡»æ‹¨æ‰“</view>
      </view>
      
      <view class="contact-item" bindtap="copyEmail">
        <view class="contact-icon">ğŸ“§</view>
        <view class="contact-text">
          <view class="contact-label">å•†åŠ¡é‚®ç®±</view>
          <view class="contact-value">{{companyInfo.contact.email}}</view>
        </view>
        <view class="contact-action">ç‚¹å‡»å¤åˆ¶</view>
      </view>
      
      <view class="contact-item" bindtap="copyAddress">
        <view class="contact-icon">ğŸ“</view>
        <view class="contact-text">
          <view class="contact-label">å…¬å¸åœ°å€</view>
          <view class="contact-value">{{companyInfo.contact.address}}</view>
        </view>
        <view class="contact-action">ç‚¹å‡»å¤åˆ¶</view>
      </view>
    </view>
  </view>
</view>